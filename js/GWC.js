"use strict";var id,str=JSON.parse(localStorage.getItem("str")),str1="",_loop=function(c){console.log(str[c]),$.ajax({type:"get",url:"http://jx.xuzhixiang.top/ap/api/detail.php?id=".concat(c),success:function(t){t=t.data;str1+='\n      <ul data-id="'.concat(t.pid,'" class="oul">\n           <li><input type="checkbox" class="ck"/></li>\n           <li><img src="').concat(t.pimg,'" alt="" /></li>\n           <li>').concat(t.pname,"</li>\n           <li>").concat(t.pprice,'/元</li>\n           <li>\n           <input type="button" class="minus" value="-" />\n           <input type="text" class="tet" value=').concat(str[c],'>\n           <input type="button" class="plus" value="+" />\n           </li>\n           <li>').concat(t.pprice*str[c],'</li>\n           <li><button class="delete" }>删除</button></li>\n       </ul>\n      '),$(".boxs").html(str1)}}).then(function(){$("#allck").click(function(){$(".ck").prop("checked",$("#allck").prop("checked"))}),$(".ck").click(function(){$(".ck").length==$(".ck:checked").length?$("#allck").prop("checked",!0):$("#allck").prop("checked",!1)})}).then(function(){var c=JSON.parse(localStorage.getItem("str"));$(".delete").click(function(){var t=$(this).parent().parent().attr("data-id");console.log(t),delete c[t],localStorage.setItem("str",JSON.stringify(c)),$(this).parent().parent().remove()})})};for(id in str)_loop(id);